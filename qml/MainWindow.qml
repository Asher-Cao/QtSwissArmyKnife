import QtQuick 2.12
import QtQuick.Window 2.12
import QtQuick.Controls 2.12

Window {
    id: mainWindow
    visible: true
    width: 800
    height: 600
    title: qsTr("瑞士军刀")
    flags: Qt.FramelessWindowHint | Qt.Dialog

    DragHandler {
        id: resizeHandler
        grabPermissions: TapHandler.TakeOverForbidden
        target: null
        onActiveChanged: if (active) {
            const p = resizeHandler.centroid.position;
            const b = bw + 10; // Increase the corner size slightly
            let e = 0;
            if (p.x < b) { e |= Qt.LeftEdge }
            if (p.x >= width - b) { e |= Qt.RightEdge }
            if (p.y < b) { e |= Qt.TopEdge }
            if (p.y >= height - b) { e |= Qt.BottomEdge }
            mainWindow.startSystemResize(e);
        }
    }

    Page {
        anchors.fill: parent
        background: Rectangle{color: "#222222"}
        header: MainWindowToolBar{}
    }
}
